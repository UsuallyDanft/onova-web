/* ProductDetails.css */

/* --- General Page Layout --- */
.product-details-page {
  padding: 40px 32px;
}

.details-container {
  display: grid;
  grid-template-columns: minmax(300px, 440px) 1fr;
  gap: 80px;
  align-items: flex-start;
  max-width: 1400px;
  margin: 0 auto;
}

/* --- Image Gallery --- */
.gallery {
  display: flex;
  flex-direction: column;
  gap: 16px;
  width: 100%;
  align-items: center;
}
.main-image-container {
  position: relative;
  width: 100%;
  aspect-ratio: 1 / 1;
  border: 1px solid var(--border-color);
  border-radius: 16px;
  overflow: hidden;
  background-color: var(--bg-secondary);
  cursor: zoom-in;
}
.thumbs-carousel-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  max-width: 440px;
}
.carousel-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 2;
  background-color: rgba(255, 255, 255, 0.8);
  border: 1px solid var(--border-color);
  border-radius: 50%;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--text-primary);
  transition: all 0.2s ease;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.carousel-arrow:hover:not(:disabled) {
  background-color: white;
  border-color: var(--accent-color);
  color: var(--accent-color);
}
.carousel-arrow:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}
.carousel-arrow.prev { left: -16px; }
.carousel-arrow.next { right: -16px; }
.thumbs-container { overflow: hidden; }
.thumbs-track {
  display: flex;
  gap: 12px;
  transition: transform 0.3s ease-in-out;
}
.thumb {
  position: relative;
  width: 64px;
  height: 64px;
  flex-shrink: 0;
  border: 1.5px solid var(--border-color);
  border-radius: 10px;
  overflow: hidden;
  cursor: pointer;
  transition: border-color 0.2s ease, opacity 0.2s ease;
  background-color: var(--bg-secondary);
  padding: 0;
}
.thumb:hover { opacity: 0.7; }
.thumb.active { border: 2.5px solid var(--accent-color); }

/* --- Product Info --- */
.info {
  display: flex;
  flex-direction: column;
  padding-top: 10px;
}
.title {
  font-size: 2.75rem;
  font-weight: 700;
  margin: 0 0 15px 0;
  line-height: 1.1;
  color: var(--text-primary);
}
.price {
  font-size: 2.25rem;
  font-weight: 600;
  color: var(--accent-color);
  margin: 0 0 15px 0;
}
.stock {
  font-size: 1rem;
  font-weight: 500;
  margin: 0 0 24px 0;
  border-radius: 12px;
  width: fit-content;
}
.stock.has-stock {
  font-size: 1rem;
  color: var(--color-blue-ok); 
}
.stock.no-stock {
  font-size: 1rem;
  color: var(--color-red-alert);
}
.description {
  margin: 0 0 32px 0;
  line-height: 1.6;
  color: var(--text-secondary);
  font-size: 1lh;
  white-space: pre-wrap;
}

/* --- Quantity & Actions --- */
.quantity-selector-container { 
  margin-bottom: 32px; 
}
.quantity-label {
  display: block;
  margin-bottom: 12px;
  font-size: 1.3rem;
  font-weight: 500;
  color: var(--color-blue-ok);
}
.quantity-control-wrapper {
  display: flex;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap;
}
.quantity-selector {
  display: flex;
  align-items: center;
  border: 1px solid var(--border-color);
  border-radius: 30px;
  width: fit-content;
  overflow: hidden;
}
.quantity-btn {
  background: var(--bg-secondary);
  border: none;
  color: var(--text-primary);
  padding: 12px;
  cursor: pointer;
  transition: background-color 0.2s ease;
  display: flex;
  align-items: center;
}
.quantity-btn:hover:not(:disabled) { background-color: var(--color-lavender); }
.quantity-btn:disabled {
  color: var(--text-secondary);
  cursor: not-allowed;
  opacity: 0.5;
}
.quantity-input {
  width: 50px;
  text-align: center;
  font-weight: 600;
  font-size: 1.1rem;
  color: var(--text-primary);
}
.remove-item-btn {
  background: transparent;
  border: none;
  color: var(--text-secondary);
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 30px;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.2s ease;
}
.remove-item-btn:hover {
  color: var(--color-red-alert);
}
.actions {
  display: flex;
  flex-wrap: wrap;
  align-items: stretch;
  gap: 16px;
  width: 100%;
}
.buy-now-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: var(--accent-color);
  color: var(--color-light);
  border: none;
  border-radius: 30px;
  padding: 16px 34px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}
.buy-now-btn:hover:not(:disabled) { 
  background: var(--accent-hover); 
}
.buy-now-btn:disabled {
  background: #a3a3a3;
  cursor: not-allowed;
}
.wish-btn {
  background: var(--bg-secondary);
  border: 3px solid var(--border-color);
  color: var(--accent-color);
  width: 56px;
  height: 56px;
  flex-shrink: 0;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background-color 0.2s ease, border-color 0.2s ease;
}
.wish-btn:hover {
  background: var(--color-lavender);
  border-color: var(--accent-color);
}
.twemoji {
  height: 1.2em; 
  width: 1.2em;
  margin: 0 0.05em 0 0.1em;
  vertical-align: -0.2em; 
}

/* --- Long Description Section --- */
.long-description-section {
  max-width: 1400px; 
  margin: 20px auto 0;
}
.long-description-header {
  display: flex;
  justify-content: flex-start; 
  align-items: center;
  gap: 15px;  
  width: 100%;
  background: none;
  border: none;
  border-bottom: 1px solid var(--border-color);
  padding: 20px 0;
  cursor: pointer;
  text-align: left;
}
.long-description-header h3 {
  margin: 0;
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--text-primary);
}
.chevron-icon {
  color: var(--text-secondary);
  transition: transform 0.3s ease-in-out;
  flex-shrink: 0;
}
.chevron-icon.open {
  transform: rotate(180deg);
}
.long-description-content {
  position: relative; 
  max-height: 14.2rem;
  overflow: hidden;
  transition: max-height 0.5s ease-in-out;
}

.long-description-content.open {
  max-height: 1000px;
}
.content-inner {
  min-height: 0;
  padding: 24px 0;
  line-height: 1.7;
  color: var(--text-secondary);
  overflow: hidden;
  font-size: 1lh;
  max-width: 950px;
}
.long-description-content::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 7rem;
  background: linear-gradient(to bottom, transparent, var(--color-light)); 
  opacity: 1;
  transition: opacity 0.3s ease-in-out;
  pointer-events: none; 
}


.long-description-content.open::after {
  opacity: 0;
}
.content-inner > *:first-child { margin-top: 0; }
.content-inner > *:last-child { margin-bottom: 0; }
.content-inner h1,
.content-inner h2,
.content-inner h3,
.content-inner h4 {
  color: var(--text-primary);
  margin-bottom: 16px;
}
.content-inner p { margin-bottom: 10px; }
.content-inner ul,
.content-inner ol {
  padding-left: 24px;
  margin-bottom: 20px;
}
.content-inner li { margin-bottom: 8px; }

/* --- Estilos para los nuevos bloques de la descripción larga --- */

/* Estilo para las citas (blockquote) */
.content-inner blockquote {
  border-left: 4px solid var(--accent-color);
  padding-left: 20px;
  margin: 20px 0;
  color: var(--text-secondary);
  font-style: italic;
}

/* Estilo para las imágenes dentro de la descripción */
.content-inner .description-image {
  margin: 24px 0;
  max-width: 40%;
  text-align: center;
}

/* Estilo para los bloques de código (pre/code) */
.content-inner pre {
  background-color: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 16px;
  margin: 20px 0;
  overflow-x: auto;
  font-size: 0.9em;
}

.content-inner code {
  font-family: 'Fira Code', 'Courier New', monospace; /* Usa una fuente monoespaciada */
  color: var(--text-primary);
}

/* --- Responsive Design --- */

/* ---------------------------------- */
/* BREAKPOINT: Tabletas y móviles grandes (hasta 900px) */
/* ---------------------------------- */
@media (max-width: 900px) {
  /* -- Layout General -- */
  .product-details-page {
    padding: 32px 24px;
  }

  .details-container {
    /* CAMBIO CLAVE: Forzamos el apilamiento vertical */
    display: flex;
    flex-direction: column; 
    gap: 40px; /* Reducimos un poco el espacio para que se vea más compacto */
  }

  /* -- Tipografía -- */
  .title {
    font-size: 2.25rem;
  }

  .price {
    font-size: 2rem;
  }

  /* -- Info del Producto -- */
  .info {
    padding-top: 0;
  }

  /* -- Descripción Larga -- */
  .long-description-section {
    margin-top: 32px;
  }
}


/* ---------------------------------- */
/* BREAKPOINT: Móviles pequeños (hasta 520px) */
/* ---------------------------------- */
@media (max-width: 520px) {
  /* -- Layout General -- */
  .product-details-page {
    padding: 24px 16px; /* Se mantiene el espaciado para no pegar el contenido a los bordes */
  }

  .details-container {
    gap: 32px; /* Se mantiene el espacio entre la galería y la info */
  }

  /* -- Carrusel de Imágenes -- */
  .carousel-arrow {
    background-color: rgba(255, 255, 255, 0.7);
  }
  .carousel-arrow.prev {
    left: 8px;
  }
  .carousel-arrow.next {
    right: 8px;
  }

  /* -- Tipografía (Ajustada para ser más compacta) -- */
  .title {
    font-size: 1.7rem; /* Reducido de 1.8rem */
  }
  .price {
    font-size: 1.5rem; /* Reducido de 1.6rem */
  }
  .description {
    font-size: 0.9rem; /* Reducido de 0.95rem */
    margin-bottom: 24px;
  }

  /* -- Selector de Cantidad -- */
  .quantity-selector-container {
    margin-bottom: 24px;
  }
  .quantity-label {
    font-size: 1rem; /* Reducido de 1.1rem */
  }

  /* -- Botones de Acción (Ajustados para ocupar menos espacio) -- */
  .actions {
    flex-direction: row;
    flex-wrap: wrap;
    gap: 12px;
  }
  
  .buy-now-btn {
    flex-grow: 1;
    min-width: 150px; /* Reducido de 180px */
    padding: 12px 20px; /* Se hace el botón un poco más pequeño */
  }

  .wish-btn {
    flex-shrink: 0;
    width: 48px;  /* Reducido de 52px */
    height: 48px; /* Reducido de 52px */
  }

  /* -- Descripción Larga -- */
  .long-description-section {
    margin-top: 40px;
  }

  .long-description-header h3 {
    font-size: 1.2rem; /* Reducido de 1.25rem */
  }
}